# My Mastra App - 天気情報AIエージェント

このプロジェクトは、[Mastra](https://github.com/mastrajs/mastra)フレームワークを使用して構築されたAIエージェントアプリケーションです。現在、天気情報を提供するエージェントが実装されています。

## 機能概要

- 特定の場所の現在の天気情報を取得
- Claude 3.5 Sonnetモデルを使用した自然な対話体験
- 詳細な天気データ（温度、体感温度、湿度、風速など）の提供

## 技術スタック

- **Mastra**: AIエージェント開発フレームワーク
- **Anthropic Claude**: 高性能な大規模言語モデル
- **Open-Meteo API**: 無料で高精度な天気データを提供するAPI
- **TypeScript**: 型安全なコード開発
- **Zod**: スキーマ検証ライブラリ

## プロジェクト構成

```
src/
└── mastra/
    ├── index.ts         # Mastraインスタンスの設定
    ├── agents/
    │   └── index.ts     # 天気エージェントの定義
    └── tools/
        └── index.ts     # 天気情報取得ツールの実装
```

## エージェント仕様

### 天気エージェント (Weather Agent)

天気エージェントは、ユーザーが指定した場所の現在の天気情報を提供します。

**機能**:

- 場所が指定されていない場合は、ユーザーに場所を尋ねる
- 英語以外の場所名が提供された場合は翻訳
- 複数の部分を持つ場所名（例：「東京都新宿区」）の場合、最も関連性の高い部分（例：「新宿」）を使用
- 湿度、風の状態、降水量などの関連情報を含む
- 簡潔かつ情報量の多いレスポンスを提供

**使用モデル**: Claude 3.5 Sonnet (2024-10-22)

## 天気ツール仕様

天気ツールは、Open-Meteo APIを使用して天気データを取得します。

**入力**:

- `location`: 都市名（文字列）

**出力**:

- `temperature`: 気温（摂氏）
- `feelsLike`: 体感温度（摂氏）
- `humidity`: 湿度（%）
- `windSpeed`: 風速（m/s）
- `windGust`: 突風速度（m/s）
- `conditions`: 天気状態（晴れ、曇り、雨など）
- `location`: 場所名

## 開発環境のセットアップ

1. 必要な環境変数を設定（`.env.development`ファイル）:

   ```
   ANTHROPIC_API_KEY=your_api_key_here
   ```

2. 依存関係のインストール:

   ```
   npm install
   ```

3. 開発サーバーの起動:
   ```
   npm run dev
   ```

## 使用例

ユーザーが「東京の天気を教えて」と尋ねると、エージェントは東京の現在の天気情報を取得し、温度、体感温度、湿度、風速、天気状態などの詳細を含む回答を提供します。

## 今後の拡張予定

- 複数日の天気予報の提供
- 気象警報・注意報の通知機能
- 複数の天気データソースのサポート
- 他の言語のサポート強化

## ライセンス

ISC
